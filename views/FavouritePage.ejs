<%- include ("parts/header") %>

  <main>
    <h1 style="text-align: center; color: white; padding-top: 20px;">Favourite Skins</h1>
    <% if (FavSkins.length===0) { %>
      <h1 style="text-align: center; color: white; padding-top: 200px;">No Favourite skins yet</h1>
      <% } else{ %>
        <div class="skin-container">
          <% for (let i=0; i < FavSkins.length; i++) { let skin=FavSkins[i]; %>
            <div class="skin-card">
              <img src="<%= skin.imageProfile %>" alt="<%= skin.description %>" data-src="<%= skin.image %>" data-name= "<%= skin.skinTitle %>"
              style="background-image: linear-gradient( 90.5deg,  rgba(255,207,139,0.50) 1.1%, rgba(255,207,139,1) 81.3% );">
              <h3>
                <%= skin.skinTitle %>
              </h3>
            </div>

            <% } %>

        </div>

        <% } %>


  </main>

  </body>
<head>
  <link rel="stylesheet" href="/css/FavPage.css">
</head>
<script>

const container = document.querySelector('.skin-container');


function doitWin() {
  document.getElementById("wins").innerHTML = "you";
}

function doitLose() {
  document.getElementById("loses").innerHTML = "you";
}

function addoneWin() {
  var foo = document.getElementById('wins').innerHTML;
  foo++;
  document.getElementById('wins').innerHTML = foo;
}
function addoneLose() {
  var foo = document.getElementById('loses').innerHTML;
  foo++;
  document.getElementById('loses').innerHTML = foo;
}
container.addEventListener('click', event => {
  const skinCard = event.target.closest('.skin-card');
  if (skinCard) {
    const popup = document.createElement('div');
    popup.classList.add('popup');
    popup.innerHTML = `
        <div class="popup-content">

        <span class="btn-close"><i class="fa fa-close"></i></span>
          
          <img src="${skinCard.querySelector('img').dataset.src}" alt="${skinCard.querySelector('img').alt}">
          <h1>${skinCard.querySelector('img').dataset.name}</h1>
          <h3>${skinCard.querySelector('img').alt}</h3><br>
          <div>
          <h2>Wins: <span id="wins">0</span></h1>
          <h2>Lose: <span id="loses">0</span></h1>
          </div>
          <div>
          <button onclick="addoneWin()" type="button" class="buttonC" id="wins">Win</button> 
          <button onclick="addoneLose()" type="button" class="buttonC" id="lose-button">Lose</button> 
          </div><br>
          <div class= "pickaxe">
              <span id="pickaxetext">Pickaxe</span><br> 
              <a href="#" id="pickaxe"><img src="images/FavPageImg/pickaxe.png" alt="pickaxe" style="width: 200px;
              height: 200px;"></a> 
            </div>
            
          <div class= "emote">
              <span id= "emote">Emote</span><br>
              <a href="#"><img src="images/FavPageImg/emote.png" alt="emote" style="width: 200px;
              height: 200px;"></a>      
          </div>
          <br><br>
          <form action="/html/tags/html_form_tag_action.cfm" method="post" class= "comments">
          <div class="comment-box">
            <h3>Notes:</h3>
            <textarea id="comment" placeholder="Enter your notes here..."></textarea><br>
            <button onclick="saveComment()" class= "buttonC" >Save</button>
            </div> 
        </form>          

        </div>
      `;
    document.body.appendChild(popup);

    const closeBtn = popup.querySelector('.btn-close');
    closeBtn.addEventListener('click', () => {
      popup.remove();
    });
  }
});
</script>
</html>